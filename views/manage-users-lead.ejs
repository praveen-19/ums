<%- include('./layouts/header') %> 

<h1 class="table">Manage Users</h1>

<table class="table">
    <thead>
        <th>id</th>
        <th>email</th>
        <th>role</th>
    </thead>
    <tbody>
        <% users.forEach(user => { %>
         <tr>
             <td><%= user.id %> </td>
             <td><a href="/teamLead/user/<%= user.id %>"><%= user.email %> </a></td>
             <td>
                 <form action="/teamLead/update-role" method="post" class="manage-user-form">
                     <input type="hidden" name="id" value="<%= user.id %>"/>
                     <select name="role" id="role">
                         <option value="ADMIN" <%= user.role === 'ADMIN' ? 'selected' : '' %>>Admin</option>
                         <option value="MANAGER" <%= user.role === 'MANAGER' ? 'selected' : '' %>>Manager</option>
                         <option value="TEAM_LEAD" <%= user.role === 'TEAM_LEAD' ? 'selected' : '' %>>Team Lead</option>
                         <option value="AGENT" <%= user.role === 'AGENT' ? 'selected' : '' %>>Agent</option>
                     </select>
                     <input type="submit" value="update">
                 </form>
             </td>
         </tr>
        <% }) %>
    </tbody>
</table>

<%- include('./layouts/footer') %> 